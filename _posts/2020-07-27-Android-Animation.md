---
title: "Android - 애니메이션(Animation)"
date: 2020-07-27 20:16:17 -0400
categories: Android
---

## :dancer: 애니메이션(Animation)
안드로이드 리소스에는 색상, 드로어블, 레이아웃, 메뉴 등 여러가지 리소스가 존재합니다.  
그 중에서도 애니메이션(Animation) 리소스를 통해 뷰의 움직임에 대해서 미리 정의해놓을 수 있습니다.  
간단한 애니메이션 일지라도 뷰에 적용했을 때, 앱 사용경험을 역동적으로 만들어주기 때문에 애니메이션은 어플리케이션에서 매력중인 요소임에 틀림없습니다.  

<br/>
<br/>

### :v:애니메이션 리소스 종류 2가지
애니메이션 리소스로는 **속성 애니메이션**과 **뷰 애니메이션** 두가지가 있습니다.  
**속성 애니메이션**은 이름에도 나타나있듯, 시간이 지남에 따라 뷰의 속성을 변화시키는 방식으로 애니메이션을 만듭니다.  
반면에, **뷰 애니메이션**은 뷰 애니메이션 프레임워크를 이용하여 만들며, 뷰 애니메이션은 또다시 **트윈 애니메이션**과 **프레임 애니메이션** 두가지로 나뉘어 집니다.

---

### 1. 속성 애니메이션
먼저 속성 애니메이션은 xml로 정의된 애니메이션입니다.

</br>
</br>


### 2. 뷰 애니메이션
뷰 애니메이션 프레임워크는 XML 상에서 적용할 수 있는 **트윈 애니메이션**과  **뷰 애니메이션**을 둘다 지원합니다.

#### 2.1 트윈 애니메이션
XML에 정의되는 애니메이션으로, 그래픽 상으로 회전, 확대, 페이딩(fading), 이동 등을 수행합니다.
- 파일 위치: /res/anim/파일이름.xml
  - 파일이름이 리소스 아이디로 사용됩니다.
- 컴파일시 리소스의 데이터 타입
  - `Animation`에 대한 리소스 포인터입니다.
- 리소스 참조
  - java 파일에서 참조하는 경우: `R.anim.파일이름`
  - XML 파일에서 참조하는 경우: `@[package:]anim/파일이름`

- 트윈 애니메이션의 루트 요소로는 단 한개만 존재할 수 있습니다.
- 루트 요소로 가능한 것들 = `<set>`, `<alpha>`, `<scale>`, `<translate>`, `<rotate>`

##### 2.1.2 \<set>
- 다른 애니메이션 요소들이나 `<set>` 를 가지는 컨테이너입니다.  

- 코드 상에서 `AnimatorSet`을 나타냅니다.

- 뷰 애니메이션의 `<set>`는 다음의 2가지 속성을 가집니다.

  1. `android:interpolator`
  - 인터폴레이터 리소스를 지정합니다.

  - 이는 애니메이션에 지정할 `Interpolator`인스턴스를 말합니다.

  - 참고로, 인터폴레이터는 애니메이션의 진행 속도를 정의합니다. 인터폴레이터를 통해서 니메이션의 감속, 가속, 반복 등이 가능합니다.

  - 주의할 점은 인터폴레이터 리소스를 지정할 때, 인터폴레이터 클래스 이름이 아닌, 인터폴레이터 리소스 이름을 참조해야 합니다. 안드로이드에서 기본으로 제공하는 인터폴레이터를 사용할 수도 있고, 인터폴레이터 리소스를 직접 제작할 수도 있습니다.

  2. `android:sharedInterporlator`

  - boolean 타입의 값을 갖습니다.

  - `<set>`의 모든 하위요소간 인터폴레이터를 공유하려면 true 값을 주면됩니다.

##### 2.1.2 \<alpha>
- 페이드 인, 페이드 아웃 애니메이션에 해당합니다.

- 코드 상에서 `AlphaAnimation`을 나타냅니다.

- 다음과 같은 속성을 가집니다.

  1. `android:fromAlpha`
    - Float 값을 가집니다.

    - 애니메이션 시작 시의 불투명도를 나타냅니다.

    - 0.0 ~ 1.0까지의 값을 가지며, 0.0은 불투명이고 1.0은 투명을 의미합니다.

  2. `android:toAlpha`
    - Float 값을 가집니다.

    - 애니메이션이 끝날 때의 불투명도를 나타냅니다.

    - 0.0 ~ 1.0까지의 값을 가지며, 0.0은 불투명이고 1.0은 투명을 의미합니다.

- 이 밖에도 많은 속성이 있지만 추가적인 것은 [Animation 클래스에 대한 설명](https://developer.android.com/reference/android/view/animation/Animation)을 자세히 나와있기 때문에, 이번 포스팅에서는 넘어가도록 하겠습니다.  

##### 2.1.3 \<scale>
- 크기 조절 애니메이션에 해당합니다.

- `pivotX`와 `pivotY`를 지정하여, 이미지가 바깥쪽으로 혹은 안쪽으로 자라는 애니메이션에서 중심이 되는 중심점을 설정할 수 있습니다.
- 예를 들어서 `pivotX`와 `pivotY`의 값이 모두 0이라면, x = 0, y = 0 은 뷰의 좌표에서 가장 왼쪽 상단을 의미하기 때문에, 뷰가 오르쪽 아래로 자라나는 애니메이션이 됩니다.
- 코드 상에서 `ScaleAnimation`을 나타냅니다.
- 다음과 같은 속성을 갖습니다.
  1. `android:fromXScale`
    -  Float 값을 갖습니다.
    - 애니메이션 시작시 크기를 나타는 x(가로)의 값으로, 1.0이면 원래 뷰의 크기와 동일함을 나타냅니다.
  2. `android:toXScale`
    -  Float 값을 갖습니다.
    - 애니메이션이 끝날 때의 크기를 나타내느 x(가로)의 값으로, 1.0이면 원래 뷰의 크기와 동일함을 나타냅니다.
  3. `android:fromYScale`
    -  Float 값을 갖습니다.
    - 애니메이션 시작시 크기를 나타는 y(세로)의 값으로, 1.0이면 원래 뷰의 크기와 동일함을 나타냅니다.
  4. `android:toYScale`
    -  Float 값을 갖습니다.
    - 애니메이션이 끝날 때의 크기를 나타내느 y(세로)의 값으로, 1.0이면 원래 뷰의 크기와 동일함을 나타냅니다.
  5. `android:pivotX`
    - Float 값을 갖습니다.
    - 객체가 확장될 때 고정된 상태로 유지되는 X 좌표입니다.
  6. `android:pivotY`
    - Float 값을 갖습니다.
    - 객체의 크기가 확장될 때 고정된 상태로 유지되는 Y 좌표입니다.


  - 이 밖에도 많은 속성이 있지만 추가적인 것은 [Animation 클래스에 대한 설명](https://developer.android.com/reference/android/view/animation/Animation)을 자세히 나와있기 때문에, 이번 포스팅에서는 넘어가도록 하겠습니다.  

  ##### 2.1.4 \<translate>
  - 수직으로 혹은 수평으로 이동하는 애니메이션에 해당합니다. (수평, 수직 애니메이션이 동시에 일어나도록 설정할 수 있습니다.)

  - 세가지 형식으로 값을 가질 수 있습니다.
  - '%'로 끝나는 형식의 경우: -100 ~ 100까지의 값을 가질 수 있습니다.(자신을 기준으로 한 백분율을 나타냅니다.)
  - '%p'로 끝나는 형식의 경우: -100 ~ 100까지의 값을 가질 수 있습니다.(자신의 부모 요소를 기준으로 한 백분율을 나타냅니다.)
  - 접미사 없는 Float 값: 절대값을 나타냅니다.

  - 코드 상에서는 `TranslateAnimation`을 나타냅니다.

  - 다음과 같은 속성을 갖습니다.
    1. `android:fromXDelta`
      - Float 값 혹은 백분율 값을 가집니다.
      - 애니메이션이 시작할 때의 x값을 나타냅니다.
    2. `android:toXDelta`
      - Float 값 혹은 백분율 값을 가집니다.
      - 애니메이션이 끝날 때의 x값을 나타냅니다.
